<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.layout.*?>
<?import javafx.scene.control.*?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.shape.Circle?>

<BorderPane xmlns:fx="http://javafx.com/fxml" fx:controller="lablabu.controller.TimerController"
            styleClass="root" prefWidth="800.0" prefHeight="600.0">

    <!-- Ð’ÐµÑ€Ñ…Ð½ÑÑ Ð¿Ð°Ð½ÐµÐ»ÑŒ: ÐœÐµÐ½ÑŽ ÑÐ»ÐµÐ²Ð°, Ð¡Ñ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ° ÑÐ¿Ñ€Ð°Ð²Ð° -->
    <top>
        <HBox alignment="CENTER_LEFT" styleClass="top-bar">
            <padding>
                <Insets top="15.0" right="20.0" bottom="15.0" left="20.0"/>
            </padding>

            <!-- ÐšÐ½Ð¾Ð¿ÐºÐ° Ð¼ÐµÐ½ÑŽ ÑÐ»ÐµÐ²Ð° -->
            <Button fx:id="menuButton" text="â˜° Menu" onAction="#onToggleMenu" styleClass="menu-button" />

            <!-- ÐŸÑ€ÑƒÐ¶Ð¸Ð½Ð° Ð´Ð»Ñ Ñ€Ð°ÑÐ¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð¸Ñ Ð¿Ñ€Ð¾ÑÑ‚Ñ€Ð°Ð½ÑÑ‚Ð²Ð° -->
            <Region HBox.hgrow="ALWAYS" />

            <!-- Ð¡Ñ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ° ÑÐ¿Ñ€Ð°Ð²Ð° -->
            <HBox spacing="15.0" alignment="CENTER_RIGHT">
                <Label fx:id="todayLabel" text="ðŸ•’ : 0h 0m" styleClass="top-stat" />
                <Label fx:id="streakLabel" text="ðŸ”¥: 0" styleClass="streak" />
            </HBox>
        </HBox>
    </top>

    <center>
        <!-- Ð“Ð»Ð°Ð²Ð½Ð°Ñ Ð¾Ð±Ð»Ð°ÑÑ‚ÑŒ Ñ Ñ‚Ð°Ð¹Ð¼ÐµÑ€Ð¾Ð¼ -->
        <StackPane>
            <!-- Ð¢Ð°Ð¹Ð¼ÐµÑ€ Ð² Ñ†ÐµÐ½Ñ‚Ñ€Ðµ -->
            <VBox alignment="CENTER" spacing="20.0" styleClass="timer-area">
                <padding>
                    <Insets top="30.0" right="30.0" bottom="30.0" left="30.0"/>
                </padding>

                <!-- Timer Mode Ð½Ð°Ð´ Ñ‚Ð°Ð¹Ð¼ÐµÑ€Ð¾Ð¼ -->
                <ComboBox fx:id="modeComboBox" styleClass="mode-combo-main" prefWidth="200.0" />

                <!-- Ð‘Ð¾Ð»ÑŒÑˆÐ¾Ð¹ ÐºÑ€ÑƒÐ³ Ñ Ñ‚Ð°Ð¹Ð¼ÐµÑ€Ð¾Ð¼ -->
                <StackPane prefWidth="280.0" prefHeight="280.0" styleClass="big-circle">
                    <Circle radius="130.0" styleClass="big-circle-shape" />
                    <VBox alignment="CENTER" spacing="6.0">
                        <Label fx:id="phaseLabel" text="Focus" styleClass="small-label" />
                        <Label fx:id="timerLabel" text="00:00:00" styleClass="timer-label" />
                    </VBox>
                </StackPane>

                <!-- ÐšÐ½Ð¾Ð¿ÐºÐ¸ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ: Start/Pause + Stop -->
                <HBox alignment="CENTER" spacing="15.0">
                    <Button fx:id="startPauseButton" text="Start" onAction="#onToggleSession"
                            styleClass="primary-button" prefWidth="140.0" prefHeight="45.0" />
                    <Button fx:id="stopButton" text="Stop" onAction="#onStopAndSave"
                            styleClass="stop-button" prefWidth="100.0" prefHeight="45.0" />
                </HBox>

                <!-- Ð¡Ñ‚Ð°Ñ‚ÑƒÑ -->
                <Label fx:id="statusLabel" text="Ready to work" styleClass="status-label" />
            </VBox>

            <!-- Ð’Ñ‹Ð´Ð²Ð¸Ð¶Ð½Ð¾Ðµ Ð¼ÐµÐ½ÑŽ ÑÐ»ÐµÐ²Ð° -->
            <VBox fx:id="sideMenu" styleClass="side-menu" prefWidth="320.0" visible="false"
                  translateX="-320.0">
                <padding>
                    <Insets top="15.0" right="15.0" bottom="15.0" left="15.0"/>
                </padding>

                <!-- Ð—Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº Ð¼ÐµÐ½ÑŽ -->
                <HBox alignment="CENTER_LEFT" spacing="10.0">
                    <Label text="Menu" styleClass="menu-title" />
                    <Region HBox.hgrow="ALWAYS" />
                    <Button text="âœ•" onAction="#onToggleMenu" styleClass="close-button" />
                </HBox>

                <Separator>
                    <VBox.margin>
                        <Insets top="10.0" bottom="10.0" />
                    </VBox.margin>
                </Separator>

                <!-- Accordion Ñ Ñ€Ð°Ð·Ð´ÐµÐ»Ð°Ð¼Ð¸ -->
                <Accordion>
                    <panes>
                    <!-- Ð Ð°Ð·Ð´ÐµÐ»: Categories -->
                    <TitledPane text="ðŸ“ Categories" expanded="true">
                        <VBox spacing="8.0">
                            <padding>
                                <Insets top="5.0" right="5.0" bottom="5.0" left="5.0"/>
                            </padding>

                            <ListView fx:id="categoryListView" prefHeight="150.0" styleClass="category-list" />

                            <HBox spacing="10.0" alignment="CENTER">
                                <Button text="+ Add" onAction="#onAddCategory" styleClass="small-button" />
                                <Button text="âˆ’ Remove" onAction="#onRemoveCategory" styleClass="small-button" />
                            </HBox>
                        </VBox>
                    </TitledPane>

                    <!-- Ð Ð°Ð·Ð´ÐµÐ»: Statistics -->
                    <TitledPane text="ðŸ“Š Statistics">
                        <VBox spacing="5.0">
                            <padding>
                                <Insets top="5.0" right="5.0" bottom="5.0" left="5.0"/>
                            </padding>

                            <TextArea fx:id="statsTextArea" editable="false" wrapText="true"
                                      styleClass="stats-area" prefHeight="250.0" />
                        </VBox>
                    </TitledPane>

                    <!-- Ð Ð°Ð·Ð´ÐµÐ»: Settings -->
                    <TitledPane text="âš™ Settings">
                        <VBox spacing="10.0">
                            <padding>
                                <Insets top="5.0" right="5.0" bottom="5.0" left="5.0"/>
                            </padding>

                            <Label text="Theme:" styleClass="settings-label" />
                            <VBox spacing="8.0">
                                <RadioButton fx:id="lightThemeRadio" text="â˜€ Light Theme" onAction="#onThemeChange">
                                    <toggleGroup>
                                        <ToggleGroup fx:id="themeToggleGroup" />
                                    </toggleGroup>
                                </RadioButton>
                                <RadioButton fx:id="darkThemeRadio" text="ðŸŒ™ Dark Theme" toggleGroup="$themeToggleGroup"
                                             onAction="#onThemeChange" selected="true" />
                            </VBox>

                            <Separator>
                                <VBox.margin>
                                    <Insets top="10.0" bottom="10.0" />
                                </VBox.margin>
                            </Separator>

                            <Label text="Custom Timer:" styleClass="settings-label" />
                            <HBox spacing="10.0" alignment="CENTER_LEFT">
                                <Label text="Work:" styleClass="small-label" />
                                <TextField fx:id="workMinutesField" prefWidth="50.0" promptText="30" />
                                <Label text="min" styleClass="small-label" />
                            </HBox>
                            <HBox spacing="10.0" alignment="CENTER_LEFT">
                                <Label text="Break:" styleClass="small-label" />
                                <TextField fx:id="breakMinutesField" prefWidth="50.0" promptText="10" />
                                <Label text="min" styleClass="small-label" />
                            </HBox>
                            <Button text="Apply" onAction="#onApplyPomodoroSettings" styleClass="small-button"
                                    maxWidth="100.0">
                                <VBox.margin>
                                    <Insets top="5.0" />
                                </VBox.margin>
                            </Button>
                        </VBox>
                    </TitledPane>
                    </panes>
                </Accordion>
            </VBox>
        </StackPane>
    </center>
</BorderPane>

